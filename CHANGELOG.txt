D2kEditor changelog

Version 1.2 (released 2015-11-16)
---------------------------------
Fixed: "Cannot focus a disabled or invisible window" error
Fixed: Tile with index 0 (left-top-most sand tile) is no longer used for painting a sand
Added: You can "cut" (erase) the selected area if you hold shift while selecting the area.
Added: "Mark buildable tiles" option
Changed: Structure list was divided into separate building and unit lists
Added: You can now place any building or unit for any side. In order to use this feature
       in game, you must copy the file config/TILEDATA.BIN into your Dune2000/Data/bin folder. 
Added: Structures and Misc. objects are now externally configured (structures.ini, misc_objects.ini).
Added: You can now place continuous wall by moving the mouse while holding left button
Changed: Units are now grouped by unit type in the event table in "Contents" column
Added: Event notes are shown in the event table. Event table Columns are now resizable.
Added: Map statistics
Added: Support for "Custom blocks" - blocks which are not stored continuously in the tileset.
       Adjusted tileset configurations accordingly.
Added: Confirmation dialog when closing the editor. It can be turned off in D2kEditor.ini.

Improved the rendering engine and the editing interface:
- Optimized map rendering: it should be faster and consume less CPU
- Concrete is properly drawn under buildings, added "Draw concrete" option
- Added Building marker and brush marker


Version 1.1 (released 2015-10-16)
---------------------------------
Fixed: Auto-smooth rock/dunes edge feature did not work properly on non-square maps
Fixed: Tried to fix the status bar cut-off (status bar is now okay hopefully)
Fixed: When a map is shifted, event positions were not shifted
Fixed: When saving Briefing, newlines were erroneously inserted where a line was only visually broken
Fixed: Error message when opening a map from commandline
Added: Support for new event types added in FunkyFr3sh's Dune 2000 patch (Leave, Play Sound...)
Added: Key shortcuts for selecting event/condition type
Added: "Diff mode" in AI settings - only values which are different from default values are shown
Added: Several minor and cosmetic improvements

Remade terrain editing GUI and added possibility to configure block presets and other things for each tileset.
- You can paint spice in Terrain mode instead of Structures mode.
- Added new "Block preset selection" window where you can see all presets for selected group in the same order
  as how you select them with the keyboard. It can be displayed by clicking on current block, double-clicking on 
  block-preset group or pressing space two times. Use right-click to change to next block variant, middle-click to
  display keyboard keys and Tab to change variant for all presets.
  If you set "HidePresetWindow" setting in D2kEditor.ini to 0, the window will stay open after selecting a preset.
- Added presets also all for tileset-specific blocks
- Each tileset has its own .ini file. There you can configure minimap colors, names of paint and block-preset groups,
  block presets and other things. This way you can easily add custom tilesets and tailor the editor for using them.



Version 1.0 (released 2015-07-10)
---------------------------------
Added: "Smooth rock/dunes edge" feature:
       - Select "Paint Rock" or "Paint Dunes", and then Shift-Click somewhere onto the edge of rock or dunes area. 
         All the edge will become smoothed: the rock/dunes tiles neighbouring with sand are turned into edge tiles.
       - The smoothing process starts in the point you click on and continues in the counterclockwise direction.
       - The process ends when any obstacle is encountered. That means you need to click onto appropriate tile.
       - The smoothed edge sometimes won't look as good as if you made it manually.
Added: New editor-specific tileset attributes are used in order to make the "Smooth edges" feature work properly.
       These attributes are also used in "Fill area" feature. Modified TILEATRx.BIN files are distributed with the editor.
Added: Ice has its own color on minimap
Added: You can drag .map files into editor window to open them
Added: Copy&Paste feature: You can copy and transfer selected block between two instances of the editor
Added: New key shortcuts for spice (ctrl+Q, ctrl+W) and selecting player (Num 0 - Num 6) in Structures mode
Added: Map name is shown in window title
Added: Program now stores persistent settings in D2kEditor.ini file:
       - Editor window position and size is preserved when you close and open editor again.
       - Game path is is stored in ini file and can be edited.
       - Several default values are stored in ini file and can be edited.
       - Several preferences are stored in ini file and can be edited. More preferences will be possibly added in future.
Added: Tileset window is vertically resizable

Complete Mission (.mis file) editor was implemented. Program was renamed to "Dune 2000 Map and Mission Editor".
- Two new windows were added: "Mission settings" and "Events and conditions"
- Added support for map .ini file features (supported by FunkyFr3sh's Dune 2000 Patch and Mission launcher)
- Event editor provides complete tabular overview of events, with detailed information about events and their conditions.
- Events can be easily manipulated (move up/down, insert event, delete event, duplicate event etc.)
- "Create common events" feature: You can quickly create events like Harvester replacement, or add flag to run the event only once.
- Added event and condition notes (stored in map .ini file). If you set note to a Flag condition it is displayed like Flag name.
- You can directly edit Message text in event editor (if map .ini is used)
- You can easily set reinforcement (and other event) position by using "Go to map" and then clicking into map. You can also 
  drag event markers in map editor to move the events. Double-click on event marker to show the event in Event editor.
- You can easily edit all AI properties (which are known). The list of AI properties (and some other configuration) is stored
  externally and can be modified.
- Added "Mark defence areas" feature (they are stored within AI and known uses are only in A4V1 and H4V1 Fremen bases).



Alpha 0.6 (released 2015-05-30)
-------------------------------
Added: "Mark tiles" option also to Tileset window. Buildable tiles are marked there too.
Added: "Edit" menu with Undo and Redo options
Added: Press TAB key to switch between Structures and Terrain mode
Added: "Show unknown specials" feature
Added: If more events (Reinforcements etc) are placed in one tile, additional markers are dwawn next to that tile
Added: If mouse cursor is moved over Reinforcement or Spawn marker, list of units is displayed. Works in Structures mode.
Changed: Minimap is updated after you finish painting of sand/rock/dunes/spice, because rendering was very slow.
Added: "Fill area" feature: works with sand, rock, dunes and spice.
       - You need to double-click into a tile inside area you want to fill.
       - Area consists of connected tiles of same "type". There are 4 types: Clean sand, Dunes, Spice and anything other.
Added: Made block selection from tileset much easier. You no more need to select predefined block size and then click to tileset,
       but you can select any block simply with mouse. (You can still use presets if you want.)
Fixed: When you resize map, the new empty space is filled with random sand
Added: "Test map" feature: you can now launch and test your map directly from the editor!
       Requirements:
       - You need to have modified version of Dune2000.exe, which supports mission launching.
         (It is distributed along with Mission launcher)
       - Dune2000.exe must be in parent directory of the directory where the map is saved
       - Counterpart .mis file must exist and there must be no map errors (missing Worm Spawners etc.)
       How it works:
       - Added "Test" menu with two options "Quick launch" and "Launch with settings"
       - "Quick launch" simply starts game with last settings
       - "Launch with settings" opens a window where you can set Difficulty, Mission number, Side you want to play as etc.
       - Mission number and Side is detected from map name's last 4 characters (like A4V1 - A for Side, 4 for mission).
       - For map names not having this name pattern you need to set them manually.
       - Before launching, map is saved into temporary file (TESTMAP.map) which is actually launched. 
       - Original map is not saved. Don't forget to save!
Added: "Create empty .mis file" feature: Creates .mis file with default settings, no events, no AI. Useful when creating new map. 
         


Aplha 0.5 (released 2015-05-02)
-------------------------------
Fixed: Map image is saved properly
Added: Program accepts map filename as parameter
Changed: New icon (by dato 2000)

Major terrain editing improvements:
- Selected tile block is drawn under mouse cursor when editing a map
- You can Drag&Scroll map while holding right button in terrain editing mode
- Fully functional Undo&Redo feature: you can undo/redo as many steps as you want (use Ctrl+Z, Ctrl+Y).
- Added "Select&Copy" feature: you can select area on a map with mouse (press left button and drag) 
  and then place that area somewhere in map or even in different map. You can choose to select
  area with or without structures (structures are not drawn on the selected block) 
- Added "Block key-presets" feature: This will let you draw cliffs and borders MUCH FASTER!!!
  Each key on keyboard (1, 2, 3, 4, Q, W, E, R, T, ect) has its block preset. Instead of selecting tile block 
  from tileset or from a list (like in Shai-Hulud editor), you just simply press key on keyboard and select 
  tile which you want. The layout of keys and their tiles is logical and intuitive (hopefully).
  Press key multiple times if there are more "versions" of the block.
  There are four preset groups: rock-sand cliff, sand-sand cliff, rock border, dunes border.
- Keyboard shortcuts were changed and there are several new.
  All old letters/numbers shortcurs now work with Shift (Shift+R for selecting Rock, Shift+2 for 2x2 block etc)
  New shortcuts: Shift+C for Select&Copy mode, F1-F4 for selecting key-preset group 
  Num2, Num4, Num6, Num8 for moving block on map (useful when you want to move it beyond upper or left map border)
  "`" (the key under Esc) for quick select of Sand/Rock/Dunes according to current key-preset group
  

Alpha 0.4 (released 2015-04-28)
-------------------------------
Fixed: All map is now properly rendered on high resolutions. Resolution is now unlimited.
Fixed: Added missing support for finite spice bloom types.
Fixed: Stealth Fremen are now shown on map.
Added: "Use allocation indexes" feature: the structures are rendered as belonging to in-game house. 
       Indexes are loaded from .mis file. Values higher than 6 default to 0.
Added: "Mark impassable tiles" feature: you can now see which tiles are impassable or infantry-only.
Added: "Show event markers" feature: you can now see positions of reinforcements and other events on map.
       Supported events are: Reinforcement(R), Harvester replacement(H), Unit spawn(S), Unit in tile(T),
       Reveal map(M). Also event number is shown.
       Markers are loaded from .mis file and cannot be edited, use Reload map after editing mis file.
Added: Number of Worm spawners, Player starts and Spice blooms is shown.
Added: Warning when trying to save map without Worm spawners or wrong number of Player starts.
Added: Value of produced and needed power is shown along with power percentage.
Added: "Save map image" feature (to .bmp file, Delphi 7 has not native support for png)
Added: Map can be scrolled with mouse wheel
Changed: Single click (instead of double click) for selecting tile block from tileset.
Changed: Other minor improvements to user interface.


Alpha 0.3 (released 2011-08-10)
-------------------------------
Added: Terrain editing support (you can place a tile block of chosen size, you select the block from
       tileset or copy from map, sand/rock/dunes paint support)
Added: You can see terrain on minimap (TILEATR files used for this purpose)
Added: "Change structures owner" feature
Added: Simple Help and About
Added: Now distributed with tileset files


Alpha 0.2 (released 2011-08-04)
-------------------------------
Added: You can scroll map also with keyboard arrows and by clicking into minimap. Scrolling should be smoother now
Added: Carryall and worm spawn/spice bloom sprites
Added: Auto detecting tileset from .mis file
Added: Key shortcuts, Reload map, direct Save map
Added: "Resize map" and "Shift map" feature
Added: Power percentage calculator (not working properly, I need to find correct power calculation formula)


Alpha 0.1 (released 2011-07-29)
-------------------------------
Open map, Save map, Minimap, Select tileset, place or remove buildings or units for 7 players, 
edit spice and pawn points, Show grid      